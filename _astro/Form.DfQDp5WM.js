import{j as S,o as Kt,l as Wt,s as De}from"./types.DCie_8Ni.js";import{R as I,a as mt}from"./index.Db0b2aiq.js";import{T as Zt,t as Qe}from"./_astro-entry_sonner.CkCzLbd3.js";import"./index.DWN2B-xX.js";var ye=e=>e.type==="checkbox",ie=e=>e instanceof Date,U=e=>e==null;const ht=e=>typeof e=="object";var P=e=>!U(e)&&!Array.isArray(e)&&ht(e)&&!ie(e),Jt=e=>P(e)&&e.target?ye(e.target)?e.target.checked:e.target.value:e,Yt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Qt=(e,r)=>e.has(Yt(r)),Xt=e=>{const r=e.constructor&&e.constructor.prototype;return P(r)&&r.hasOwnProperty("isPrototypeOf")},Le=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Le&&(e instanceof Blob||s))&&(t||P(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Xt(e))r=e;else for(const l in e)e.hasOwnProperty(l)&&(r[l]=L(e[l]));else return e;return r}var we=e=>/^\w*$/.test(e),D=e=>e===void 0,Re=e=>Array.isArray(e)?e.filter(Boolean):[],Ne=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,r,t)=>{if(!r||!P(e))return t;const s=(we(r)?[r]:Ne(r)).reduce((l,n)=>U(l)?l:l[n],e);return D(s)||s===e?D(e[r])?t:e[r]:s},J=e=>typeof e=="boolean",E=(e,r,t)=>{let s=-1;const l=we(r)?[r]:Ne(r),n=l.length,o=n-1;for(;++s<n;){const c=l[s];let b=t;if(s!==o){const x=e[c];b=P(x)||Array.isArray(x)?x:isNaN(+l[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=b,e=e[c]}};const Xe={BLUR:"blur",FOCUS_OUT:"focusout"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gt=I.createContext(null);Gt.displayName="HookFormContext";var er=(e,r,t,s=!0)=>{const l={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const o=n;return r._proxyFormState[o]!==q.all&&(r._proxyFormState[o]=!s||q.all),e[o]}});return l};const tr=typeof window<"u"?I.useLayoutEffect:I.useEffect;var B=e=>typeof e=="string",rr=(e,r,t,s,l)=>B(e)?(s&&r.watch.add(e),m(t,e,l)):Array.isArray(e)?e.map(n=>(s&&r.watch.add(n),m(t,n))):(s&&(r.watchAll=!0),t),Pe=e=>U(e)||!ht(e);function re(e,r,t=new WeakSet){if(Pe(e)||Pe(r))return e===r;if(ie(e)&&ie(r))return e.getTime()===r.getTime();const s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const n of s){const o=e[n];if(!l.includes(n))return!1;if(n!=="ref"){const c=r[n];if(ie(o)&&ie(c)||P(o)&&P(c)||Array.isArray(o)&&Array.isArray(c)?!re(o,c,t):o!==c)return!1}}return!0}var Ce=(e,r,t,s,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:l||!0}}:{},de=e=>Array.isArray(e)?e:[e],Ge=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}};function gt(e,r){const t={};for(const s in e)if(e.hasOwnProperty(s)){const l=e[s],n=r[s];if(l&&P(l)&&n){const o=gt(l,n);P(o)&&(t[s]=o)}else e[s]&&(t[s]=n)}return t}var C=e=>P(e)&&!Object.keys(e).length,Me=e=>e.type==="file",$=e=>typeof e=="function",pe=e=>{if(!Le)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},bt=e=>e.type==="select-multiple",Ue=e=>e.type==="radio",sr=e=>Ue(e)||ye(e),je=e=>pe(e)&&e.isConnected;function ir(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=D(e)?s++:e[r[s++]];return e}function nr(e){for(const r in e)if(e.hasOwnProperty(r)&&!D(e[r]))return!1;return!0}function j(e,r){const t=Array.isArray(r)?r:we(r)?[r]:Ne(r),s=t.length===1?e:ir(e,t),l=t.length-1,n=t[l];return s&&delete s[n],l!==0&&(P(s)&&C(s)||Array.isArray(s)&&nr(s))&&j(e,t.slice(0,-1)),e}var ar=e=>{for(const r in e)if($(e[r]))return!0;return!1};function vt(e){return Array.isArray(e)||P(e)&&!ar(e)}function Oe(e,r={}){for(const t in e)vt(e[t])?(r[t]=Array.isArray(e[t])?[]:{},Oe(e[t],r[t])):D(e[t])||(r[t]=!0);return r}function oe(e,r,t){t||(t=Oe(r));for(const s in e)vt(e[s])?D(r)||Pe(t[s])?t[s]=Oe(e[s],Array.isArray(e[s])?[]:{}):oe(e[s],U(r)?{}:r[s],t[s]):t[s]=!re(e[s],r[s]);return t}const et={value:!1,isValid:!1},tt={value:!0,isValid:!0};var pt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?tt:{value:e[0].value,isValid:!0}:tt:et}return et},_t=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>D(e)?e:r?e===""?NaN:e&&+e:t&&B(e)?new Date(e):s?s(e):e;const rt={isValid:!1,value:null};var wt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,rt):rt;function st(e){const r=e.ref;return Me(r)?r.files:Ue(r)?wt(e.refs).value:bt(r)?[...r.selectedOptions].map(({value:t})=>t):ye(r)?pt(e.refs).value:_t(D(r.value)?e.ref.value:r.value,e)}var or=(e,r,t,s)=>{const l={};for(const n of e){const o=m(r,n);o&&E(l,n,o._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:s}},_e=e=>e instanceof RegExp,ce=e=>D(e)?e:_e(e)?e.source:P(e)?_e(e.value)?e.value.source:e.value:e,it=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched});const nt="AsyncFunction";var lr=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===nt||P(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===nt)),ur=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),at=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const fe=(e,r,t,s)=>{for(const l of t||Object.keys(e)){const n=m(e,l);if(n){const{_f:o,...c}=n;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],l)&&!s)return!0;if(o.ref&&r(o.ref,o.name)&&!s)return!0;if(fe(c,r))break}else if(P(c)&&fe(c,r))break}}};function ot(e,r,t){const s=m(e,t);if(s||we(t))return{error:s,name:t};const l=t.split(".");for(;l.length;){const n=l.join("."),o=m(r,n),c=m(e,n);if(o&&!Array.isArray(o)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};l.pop()}return{name:t}}var cr=(e,r,t,s)=>{t(e);const{name:l,...n}=e;return C(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(o=>r[o]===(!s||q.all))},dr=(e,r,t)=>!e||!r||e===r||de(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),fr=(e,r,t,s,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?s.isOnBlur:l.isOnBlur)?!e:(t?s.isOnChange:l.isOnChange)?e:!0,yr=(e,r)=>!Re(m(e,r)).length&&j(e,r),mr=(e,r,t)=>{const s=de(m(e,t));return E(s,"root",r[t]),E(e,t,s),e};function lt(e,r,t="validate"){if(B(e)||Array.isArray(e)&&e.every(B)||J(e)&&!e)return{type:t,message:B(e)?e:"",ref:r}}var ae=e=>P(e)&&!_e(e)?e:{value:e,message:""},ut=async(e,r,t,s,l,n)=>{const{ref:o,refs:c,required:b,maxLength:x,minLength:g,min:p,max:v,pattern:le,validate:X,name:O,valueAsNumber:G,mount:xe}=e._f,w=m(t,O);if(!xe||r.has(O))return{};const Y=c?c[0]:o,K=_=>{l&&Y.reportValidity&&(Y.setCustomValidity(J(_)?"":_||""),Y.reportValidity())},T={},he=Ue(o),ee=ye(o),Ve=he||ee,z=(G||Me(o))&&D(o.value)&&D(w)||pe(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,se=Ce.bind(null,O,s,T),W=(_,F,A,N=Q.maxLength,M=Q.minLength)=>{const Z=_?F:A;T[O]={type:_?N:M,message:Z,ref:o,...se(_?N:M,Z)}};if(n?!Array.isArray(w)||!w.length:b&&(!Ve&&(z||U(w))||J(w)&&!w||ee&&!pt(c).isValid||he&&!wt(c).isValid)){const{value:_,message:F}=B(b)?{value:!!b,message:b}:ae(b);if(_&&(T[O]={type:Q.required,message:F,ref:Y,...se(Q.required,F)},!s))return K(F),T}if(!z&&(!U(p)||!U(v))){let _,F;const A=ae(v),N=ae(p);if(!U(w)&&!isNaN(w)){const M=o.valueAsNumber||w&&+w;U(A.value)||(_=M>A.value),U(N.value)||(F=M<N.value)}else{const M=o.valueAsDate||new Date(w),Z=ge=>new Date(new Date().toDateString()+" "+ge),ue=o.type=="time",ne=o.type=="week";B(A.value)&&w&&(_=ue?Z(w)>Z(A.value):ne?w>A.value:M>new Date(A.value)),B(N.value)&&w&&(F=ue?Z(w)<Z(N.value):ne?w<N.value:M<new Date(N.value))}if((_||F)&&(W(!!_,A.message,N.message,Q.max,Q.min),!s))return K(T[O].message),T}if((x||g)&&!z&&(B(w)||n&&Array.isArray(w))){const _=ae(x),F=ae(g),A=!U(_.value)&&w.length>+_.value,N=!U(F.value)&&w.length<+F.value;if((A||N)&&(W(A,_.message,F.message),!s))return K(T[O].message),T}if(le&&!z&&B(w)){const{value:_,message:F}=ae(le);if(_e(_)&&!w.match(_)&&(T[O]={type:Q.pattern,message:F,ref:o,...se(Q.pattern,F)},!s))return K(F),T}if(X){if($(X)){const _=await X(w,t),F=lt(_,Y);if(F&&(T[O]={...F,...se(Q.validate,F.message)},!s))return K(F.message),T}else if(P(X)){let _={};for(const F in X){if(!C(_)&&!s)break;const A=lt(await X[F](w,t),Y,F);A&&(_={...A,...se(F,A.message)},K(A.message),s&&(T[O]=_))}if(!C(_)&&(T[O]={ref:Y,..._},!s))return T}}return K(!0),T};const hr={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function gr(e={}){let r={...hr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:$(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},l=P(r.defaultValues)||P(r.values)?L(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:L(l),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,x=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...g};const v={array:Ge(),state:Ge()},le=r.criteriaMode===q.all,X=i=>a=>{clearTimeout(x),x=setTimeout(i,a)},O=async i=>{if(!r.disabled&&(g.isValid||p.isValid||i)){const a=r.resolver?C((await ee()).errors):await z(s,!0);a!==t.isValid&&v.state.next({isValid:a})}},G=(i,a)=>{!r.disabled&&(g.isValidating||g.validatingFields||p.isValidating||p.validatingFields)&&((i||Array.from(c.mount)).forEach(u=>{u&&(a?E(t.validatingFields,u,a):j(t.validatingFields,u))}),v.state.next({validatingFields:t.validatingFields,isValidating:!C(t.validatingFields)}))},xe=(i,a=[],u,y,f=!0,d=!0)=>{if(y&&u&&!r.disabled){if(o.action=!0,d&&Array.isArray(m(s,i))){const h=u(m(s,i),y.argA,y.argB);f&&E(s,i,h)}if(d&&Array.isArray(m(t.errors,i))){const h=u(m(t.errors,i),y.argA,y.argB);f&&E(t.errors,i,h),yr(t.errors,i)}if((g.touchedFields||p.touchedFields)&&d&&Array.isArray(m(t.touchedFields,i))){const h=u(m(t.touchedFields,i),y.argA,y.argB);f&&E(t.touchedFields,i,h)}(g.dirtyFields||p.dirtyFields)&&(t.dirtyFields=oe(l,n)),v.state.next({name:i,isDirty:W(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else E(n,i,a)},w=(i,a)=>{E(t.errors,i,a),v.state.next({errors:t.errors})},Y=i=>{t.errors=i,v.state.next({errors:t.errors,isValid:!1})},K=(i,a,u,y)=>{const f=m(s,i);if(f){const d=m(n,i,D(u)?m(l,i):u);D(d)||y&&y.defaultChecked||a?E(n,i,a?d:st(f._f)):A(i,d),o.mount&&O()}},T=(i,a,u,y,f)=>{let d=!1,h=!1;const V={name:i};if(!r.disabled){if(!u||y){(g.isDirty||p.isDirty)&&(h=t.isDirty,t.isDirty=V.isDirty=W(),d=h!==V.isDirty);const k=re(m(l,i),a);h=!!m(t.dirtyFields,i),k?j(t.dirtyFields,i):E(t.dirtyFields,i,!0),V.dirtyFields=t.dirtyFields,d=d||(g.dirtyFields||p.dirtyFields)&&h!==!k}if(u){const k=m(t.touchedFields,i);k||(E(t.touchedFields,i,u),V.touchedFields=t.touchedFields,d=d||(g.touchedFields||p.touchedFields)&&k!==u)}d&&f&&v.state.next(V)}return d?V:{}},he=(i,a,u,y)=>{const f=m(t.errors,i),d=(g.isValid||p.isValid)&&J(a)&&t.isValid!==a;if(r.delayError&&u?(b=X(()=>w(i,u)),b(r.delayError)):(clearTimeout(x),b=null,u?E(t.errors,i,u):j(t.errors,i)),(u?!re(f,u):f)||!C(y)||d){const h={...y,...d&&J(a)?{isValid:a}:{},errors:t.errors,name:i};t={...t,...h},v.state.next(h)}},ee=async i=>{G(i,!0);const a=await r.resolver(n,r.context,or(i||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return G(i),a},Ve=async i=>{const{errors:a}=await ee(i);if(i)for(const u of i){const y=m(a,u);y?E(t.errors,u,y):j(t.errors,u)}else t.errors=a;return a},z=async(i,a,u={valid:!0})=>{for(const y in i){const f=i[y];if(f){const{_f:d,...h}=f;if(d){const V=c.array.has(d.name),k=f._f&&lr(f._f);k&&g.validatingFields&&G([d.name],!0);const H=await ut(f,c.disabled,n,le,r.shouldUseNativeValidation&&!a,V);if(k&&g.validatingFields&&G([d.name]),H[d.name]&&(u.valid=!1,a))break;!a&&(m(H,d.name)?V?mr(t.errors,H,d.name):E(t.errors,d.name,H[d.name]):j(t.errors,d.name))}!C(h)&&await z(h,a,u)}}return u.valid},se=()=>{for(const i of c.unMount){const a=m(s,i);a&&(a._f.refs?a._f.refs.every(u=>!je(u)):!je(a._f.ref))&&Fe(i)}c.unMount=new Set},W=(i,a)=>!r.disabled&&(i&&a&&E(n,i,a),!re(ge(),l)),_=(i,a,u)=>rr(i,c,{...o.mount?n:D(a)?l:B(i)?{[i]:a}:a},u,a),F=i=>Re(m(o.mount?n:l,i,r.shouldUnregister?m(l,i,[]):[])),A=(i,a,u={})=>{const y=m(s,i);let f=a;if(y){const d=y._f;d&&(!d.disabled&&E(n,i,_t(a,d)),f=pe(d.ref)&&U(a)?"":a,bt(d.ref)?[...d.ref.options].forEach(h=>h.selected=f.includes(h.value)):d.refs?ye(d.ref)?d.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(V=>V===h.value):h.checked=f===h.value||!!f)}):d.refs.forEach(h=>h.checked=h.value===f):Me(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||v.state.next({name:i,values:L(n)})))}(u.shouldDirty||u.shouldTouch)&&T(i,f,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ne(i)},N=(i,a,u)=>{for(const y in a){if(!a.hasOwnProperty(y))return;const f=a[y],d=i+"."+y,h=m(s,d);(c.array.has(i)||P(f)||h&&!h._f)&&!ie(f)?N(d,f,u):A(d,f,u)}},M=(i,a,u={})=>{const y=m(s,i),f=c.array.has(i),d=L(a);E(n,i,d),f?(v.array.next({name:i,values:L(n)}),(g.isDirty||g.dirtyFields||p.isDirty||p.dirtyFields)&&u.shouldDirty&&v.state.next({name:i,dirtyFields:oe(l,n),isDirty:W(i,d)})):y&&!y._f&&!U(d)?N(i,d,u):A(i,d,u),at(i,c)&&v.state.next({...t,name:i}),v.state.next({name:o.mount?i:void 0,values:L(n)})},Z=async i=>{o.mount=!0;const a=i.target;let u=a.name,y=!0;const f=m(s,u),d=k=>{y=Number.isNaN(k)||ie(k)&&isNaN(k.getTime())||re(k,m(n,u,k))},h=it(r.mode),V=it(r.reValidateMode);if(f){let k,H;const be=a.type?st(f._f):Jt(i),te=i.type===Xe.BLUR||i.type===Xe.FOCUS_OUT,zt=!ur(f._f)&&!r.resolver&&!m(t.errors,u)&&!f._f.deps||fr(te,m(t.touchedFields,u),t.isSubmitted,V,h),Ae=at(u,c,te);E(n,u,be),te?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(i),b&&b(0)):f._f.onChange&&f._f.onChange(i);const Se=T(u,be,te),qt=!C(Se)||Ae;if(!te&&v.state.next({name:u,type:i.type,values:L(n)}),zt)return(g.isValid||p.isValid)&&(r.mode==="onBlur"?te&&O():te||O()),qt&&v.state.next({name:u,...Ae?{}:Se});if(!te&&Ae&&v.state.next({...t}),r.resolver){const{errors:Je}=await ee([u]);if(d(be),y){const $t=ot(t.errors,s,u),Ye=ot(Je,s,$t.name||u);k=Ye.error,u=Ye.name,H=C(Je)}}else G([u],!0),k=(await ut(f,c.disabled,n,le,r.shouldUseNativeValidation))[u],G([u]),d(be),y&&(k?H=!1:(g.isValid||p.isValid)&&(H=await z(s,!0)));y&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&ne(f._f.deps),he(u,H,k,Se))}},ue=(i,a)=>{if(m(t.errors,a)&&i.focus)return i.focus(),1},ne=async(i,a={})=>{let u,y;const f=de(i);if(r.resolver){const d=await Ve(D(i)?i:f);u=C(d),y=i?!f.some(h=>m(d,h)):u}else i?(y=(await Promise.all(f.map(async d=>{const h=m(s,d);return await z(h&&h._f?{[d]:h}:h)}))).every(Boolean),!(!y&&!t.isValid)&&O()):y=u=await z(s);return v.state.next({...!B(i)||(g.isValid||p.isValid)&&u!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!y&&fe(s,ue,i?f:c.mount),y},ge=(i,a)=>{let u={...o.mount?n:l};return a&&(u=gt(a.dirtyFields?t.dirtyFields:t.touchedFields,u)),D(i)?u:B(i)?m(u,i):i.map(y=>m(u,y))},Be=(i,a)=>({invalid:!!m((a||t).errors,i),isDirty:!!m((a||t).dirtyFields,i),error:m((a||t).errors,i),isValidating:!!m(t.validatingFields,i),isTouched:!!m((a||t).touchedFields,i)}),Nt=i=>{i&&de(i).forEach(a=>j(t.errors,a)),v.state.next({errors:i?t.errors:{}})},He=(i,a,u)=>{const y=(m(s,i,{_f:{}})._f||{}).ref,f=m(t.errors,i)||{},{ref:d,message:h,type:V,...k}=f;E(t.errors,i,{...k,...a,ref:y}),v.state.next({name:i,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},Ct=(i,a)=>$(i)?v.state.subscribe({next:u=>"values"in u&&i(_(void 0,a),u)}):_(i,a,!0),ze=i=>v.state.subscribe({next:a=>{dr(i.name,a.name,i.exact)&&cr(a,i.formState||g,Ht,i.reRenderRoot)&&i.callback({values:{...n},...t,...a,defaultValues:l})}}).unsubscribe,Mt=i=>(o.mount=!0,p={...p,...i.formState},ze({...i,formState:p})),Fe=(i,a={})=>{for(const u of i?de(i):c.mount)c.mount.delete(u),c.array.delete(u),a.keepValue||(j(s,u),j(n,u)),!a.keepError&&j(t.errors,u),!a.keepDirty&&j(t.dirtyFields,u),!a.keepTouched&&j(t.touchedFields,u),!a.keepIsValidating&&j(t.validatingFields,u),!r.shouldUnregister&&!a.keepDefaultValue&&j(l,u);v.state.next({values:L(n)}),v.state.next({...t,...a.keepDirty?{isDirty:W()}:{}}),!a.keepIsValid&&O()},qe=({disabled:i,name:a})=>{(J(i)&&o.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},Ee=(i,a={})=>{let u=m(s,i);const y=J(a.disabled)||J(r.disabled);return E(s,i,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),u?qe({disabled:J(a.disabled)?a.disabled:r.disabled,name:i}):K(i,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ce(a.min),max:ce(a.max),minLength:ce(a.minLength),maxLength:ce(a.maxLength),pattern:ce(a.pattern)}:{},name:i,onChange:Z,onBlur:Z,ref:f=>{if(f){Ee(i,a),u=m(s,i);const d=D(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=sr(d),V=u._f.refs||[];if(h?V.find(k=>k===d):d===u._f.ref)return;E(s,i,{_f:{...u._f,...h?{refs:[...V.filter(je),d,...Array.isArray(m(l,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d}}}),K(i,!1,void 0,d)}else u=m(s,i,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Qt(c.array,i)&&o.action)&&c.unMount.add(i)}}},ke=()=>r.shouldFocusError&&fe(s,ue,c.mount),Ut=i=>{J(i)&&(v.state.next({disabled:i}),fe(s,(a,u)=>{const y=m(s,u);y&&(a.disabled=y._f.disabled||i,Array.isArray(y._f.refs)&&y._f.refs.forEach(f=>{f.disabled=y._f.disabled||i}))},0,!1))},$e=(i,a)=>async u=>{let y;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=L(n);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:h}=await ee();t.errors=d,f=L(h)}else await z(s);if(c.disabled.size)for(const d of c.disabled)j(f,d);if(j(t.errors,"root"),C(t.errors)){v.state.next({errors:{}});try{await i(f,u)}catch(d){y=d}}else a&&await a({...t.errors},u),ke(),setTimeout(ke);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:C(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},It=(i,a={})=>{m(s,i)&&(D(a.defaultValue)?M(i,L(m(l,i))):(M(i,a.defaultValue),E(l,i,L(a.defaultValue))),a.keepTouched||j(t.touchedFields,i),a.keepDirty||(j(t.dirtyFields,i),t.isDirty=a.defaultValue?W(i,L(m(l,i))):W()),a.keepError||(j(t.errors,i),g.isValid&&O()),v.state.next({...t}))},Ke=(i,a={})=>{const u=i?L(i):l,y=L(u),f=C(i),d=f?l:y;if(a.keepDefaultValues||(l=u),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(oe(l,n))]);for(const V of Array.from(h))m(t.dirtyFields,V)?E(d,V,m(n,V)):M(V,m(d,V))}else{if(Le&&D(i))for(const h of c.mount){const V=m(s,h);if(V&&V._f){const k=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(pe(k)){const H=k.closest("form");if(H){H.reset();break}}}}if(a.keepFieldsRef)for(const h of c.mount)M(h,m(d,h));else s={}}n=r.shouldUnregister?a.keepDefaultValues?L(l):{}:L(d),v.array.next({values:{...d}}),v.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!r.shouldUnregister&&!C(d),o.watch=!!r.shouldUnregister,v.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!re(i,l)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?oe(l,n):t.dirtyFields:a.keepDefaultValues&&i?oe(l,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},We=(i,a)=>Ke($(i)?i(n):i,a),Bt=(i,a={})=>{const u=m(s,i),y=u&&u._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),a.shouldSelect&&$(f.select)&&f.select())}},Ht=i=>{t={...t,...i}},Ze={control:{register:Ee,unregister:Fe,getFieldState:Be,handleSubmit:$e,setError:He,_subscribe:ze,_runSchema:ee,_focusError:ke,_getWatch:_,_getDirty:W,_setValid:O,_setFieldArray:xe,_setDisabledField:qe,_setErrors:Y,_getFieldArray:F,_reset:Ke,_resetDefaultValues:()=>$(r.defaultValues)&&r.defaultValues().then(i=>{We(i,r.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:se,_disableForm:Ut,_subjects:v,_proxyFormState:g,get _fields(){return s},get _formValues(){return n},get _state(){return o},set _state(i){o=i},get _defaultValues(){return l},get _names(){return c},set _names(i){c=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:Mt,trigger:ne,register:Ee,handleSubmit:$e,watch:Ct,setValue:M,getValues:ge,reset:We,resetField:It,clearErrors:Nt,unregister:Fe,setError:He,setFocus:Bt,getFieldState:Be};return{...Ze,formControl:Ze}}function br(e={}){const r=I.useRef(void 0),t=I.useRef(void 0),[s,l]=I.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:s},e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=gr(e);r.current={...c,formState:s}}const n=r.current.control;return n._options=e,tr(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>l({...n._formState}),reRenderRoot:!0});return l(c=>({...c,isReady:!0})),n._formState.isReady=!0,o},[n]),I.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),I.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),I.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),I.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),I.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==s.isDirty&&n._subjects.state.next({isDirty:o})}},[n,s.isDirty]),I.useEffect(()=>{e.values&&!re(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),t.current=e.values,l(o=>({...o}))):n._resetDefaultValues()},[n,e.values]),I.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=er(s,n),r.current}const ct=(e,r,t)=>{if(e&&"reportValidity"in e){const s=m(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Te=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?ct(s.ref,t,e):s&&s.refs&&s.refs.forEach(l=>ct(l,t,e))}},dt=(e,r)=>{r.shouldUseNativeValidation&&Te(e,r);const t={};for(const s in e){const l=m(r.fields,s),n=Object.assign(e[s]||{},{ref:l&&l.ref});if(vr(r.names||Object.keys(e),s)){const o=Object.assign({},m(t,s));E(o,"root",n),E(t,s,o)}else E(t,s,n)}return t},vr=(e,r)=>{const t=ft(r);return e.some(s=>ft(s).match(`^${t}\\.\\d+`))};function ft(e){return e.replace(/\]|\[/g,"")}function xt(e,r,t){function s(c,b){var x;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(x=c._zod).traits??(x.traits=new Set),c._zod.traits.add(e),r(c,b);for(const g in o.prototype)g in c||Object.defineProperty(c,g,{value:o.prototype[g].bind(c)});c._zod.constr=o,c._zod.def=b}const l=t?.Parent??Object;class n extends l{}Object.defineProperty(n,"name",{value:e});function o(c){var b;const x=t?.Parent?new n:this;s(x,c),(b=x._zod).deferred??(b.deferred=[]);for(const g of x._zod.deferred)g();return x}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>t?.Parent&&c instanceof t.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class pr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const _r={};function Vt(e){return _r}function wr(e,r){return typeof r=="bigint"?r.toString():r}const Ft=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ve(e){return typeof e=="string"?e:e?.message}function Et(e,r,t){const s={...e,path:e.path??[]};if(!e.message){const l=ve(e.inst?._zod.def?.error?.(e))??ve(r?.error?.(e))??ve(t.customError?.(e))??ve(t.localeError?.(e))??"Invalid input";s.message=l}return delete s.inst,delete s.continue,r?.reportInput||delete s.input,s}const kt=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(r,wr,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},xr=xt("$ZodError",kt),At=xt("$ZodError",kt,{Parent:Error}),Vr=e=>(r,t,s,l)=>{const n=s?Object.assign(s,{async:!1}):{async:!1},o=r._zod.run({value:t,issues:[]},n);if(o instanceof Promise)throw new pr;if(o.issues.length){const c=new(l?.Err??e)(o.issues.map(b=>Et(b,n,Vt())));throw Ft(c,l?.callee),c}return o.value},Fr=Vr(At),Er=e=>async(r,t,s,l)=>{const n=s?Object.assign(s,{async:!0}):{async:!0};let o=r._zod.run({value:t,issues:[]},n);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(l?.Err??e)(o.issues.map(b=>Et(b,n,Vt())));throw Ft(c,l?.callee),c}return o.value},kr=Er(At);function yt(e,r){try{var t=e()}catch(s){return r(s)}return t&&t.then?t.then(void 0,r):t}function Ar(e,r){for(var t={};e.length;){var s=e[0],l=s.code,n=s.message,o=s.path.join(".");if(!t[o])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];t[o]={message:c.message,type:c.code}}else t[o]={message:n,type:l};if("unionErrors"in s&&s.unionErrors.forEach(function(g){return g.errors.forEach(function(p){return e.push(p)})}),r){var b=t[o].types,x=b&&b[s.code];t[o]=Ce(o,r,t,l,x?[].concat(x,s.message):s.message)}e.shift()}return t}function Sr(e,r){for(var t={};e.length;){var s=e[0],l=s.code,n=s.message,o=s.path.join(".");if(!t[o])if(s.code==="invalid_union"&&s.errors.length>0){var c=s.errors[0][0];t[o]={message:c.message,type:c.code}}else t[o]={message:n,type:l};if(s.code==="invalid_union"&&s.errors.forEach(function(g){return g.forEach(function(p){return e.push(p)})}),r){var b=t[o].types,x=b&&b[s.code];t[o]=Ce(o,r,t,l,x?[].concat(x,s.message):s.message)}e.shift()}return t}function Dr(e,r,t){if(t===void 0&&(t={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(e))return function(s,l,n){try{return Promise.resolve(yt(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(o){return n.shouldUseNativeValidation&&Te({},n),{errors:{},values:t.raw?Object.assign({},s):o}})},function(o){if((function(c){return Array.isArray(c?.issues)})(o))return{values:{},errors:dt(Ar(o.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(e))return function(s,l,n){try{return Promise.resolve(yt(function(){return Promise.resolve((t.mode==="sync"?Fr:kr)(e,s,r)).then(function(o){return n.shouldUseNativeValidation&&Te({},n),{errors:{},values:t.raw?Object.assign({},s):o}})},function(o){if((function(c){return c instanceof xr})(o))return{values:{},errors:dt(Sr(o.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}class me{constructor(r=0,t="Network Error"){this.status=r,this.text=t}}const jr=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,r)=>Promise.resolve(localStorage.setItem(e,r)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},R={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:jr()},Ie=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Pr=(e,r="https://api.emailjs.com")=>{if(!e)return;const t=Ie(e);R.publicKey=t.publicKey,R.blockHeadless=t.blockHeadless,R.storageProvider=t.storageProvider,R.blockList=t.blockList,R.limitRate=t.limitRate,R.origin=t.origin||r},St=async(e,r,t={})=>{const s=await fetch(R.origin+e,{method:"POST",headers:t,body:r}),l=await s.text(),n=new me(s.status,l);if(s.ok)return n;throw n},Dt=(e,r,t)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!r||typeof r!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Or=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},jt=e=>e.webdriver||!e.languages||e.languages.length===0,Pt=()=>new me(451,"Unavailable For Headless Browser"),Tr=(e,r)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof r!="string")throw"The BlockList watchVariable has to be a string"},Lr=e=>!e.list?.length||!e.watchVariable,Rr=(e,r)=>e instanceof FormData?e.get(r):e[r],Ot=(e,r)=>{if(Lr(e))return!1;Tr(e.list,e.watchVariable);const t=Rr(r,e.watchVariable);return typeof t!="string"?!1:e.list.includes(t)},Tt=()=>new me(403,"Forbidden"),Nr=(e,r)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(r&&typeof r!="string")throw"The LimitRate ID has to be a non-empty string"},Cr=async(e,r,t)=>{const s=Number(await t.get(e)||0);return r-Date.now()+s},Lt=async(e,r,t)=>{if(!r.throttle||!t)return!1;Nr(r.throttle,r.id);const s=r.id||e;return await Cr(s,r.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},Rt=()=>new me(429,"Too Many Requests"),Mr=async(e,r,t,s)=>{const l=Ie(s),n=l.publicKey||R.publicKey,o=l.blockHeadless||R.blockHeadless,c=l.storageProvider||R.storageProvider,b={...R.blockList,...l.blockList},x={...R.limitRate,...l.limitRate};return o&&jt(navigator)?Promise.reject(Pt()):(Dt(n,e,r),Or(t),t&&Ot(b,t)?Promise.reject(Tt()):await Lt(location.pathname,x,c)?Promise.reject(Rt()):St("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:r,template_params:t}),{"Content-type":"application/json"}))},Ur=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Ir=e=>typeof e=="string"?document.querySelector(e):e,Br=async(e,r,t,s)=>{const l=Ie(s),n=l.publicKey||R.publicKey,o=l.blockHeadless||R.blockHeadless,c=R.storageProvider||l.storageProvider,b={...R.blockList,...l.blockList},x={...R.limitRate,...l.limitRate};if(o&&jt(navigator))return Promise.reject(Pt());const g=Ir(t);Dt(n,e,r),Ur(g);const p=new FormData(g);return Ot(b,p)?Promise.reject(Tt()):await Lt(location.pathname,x,c)?Promise.reject(Rt()):(p.append("lib_version","4.4.1"),p.append("service_id",e),p.append("template_id",r),p.append("user_id",n),St("/api/v1.0/email/send-form",p))},Hr={init:Pr,send:Mr,sendForm:Br,EmailJSResponseStatus:me};function zr(){return mt.useMemo(()=>Kt({username:De().min(2,"Escriba un nombre válido"),email:De().email("Escriba un email válido"),message:De().min(10,"Escriba un mensaje de al menos 10 caracteres"),terms:Wt(!0,{errorMap:()=>({message:"Debe aceptar los términos y condiciones"})})}),[])}function Jr({className:e="text-secondary",buttonClass:r="lightPink"}){const t=zr(),s=mt.useRef(null),{register:l,handleSubmit:n,reset:o,formState:{errors:c,isSubmitting:b}}=br({resolver:Dr(t),defaultValues:{username:"",email:"",message:"",terms:!1},mode:"onSubmit"}),x=async p=>{if(s.current)try{await Hr.sendForm(void 0,void 0,s.current,{publicKey:void 0}),Qe.success("Correcto",{description:"Su mensaje ha sido enviado con éxito."}),o()}catch{Qe.error("Su mensaje no pudo ser enviado. Inténtelo de nuevo más tarde.")}},g=p=>({"form.username":"Jhon Doe","form.email":"jhon@gmail.com","form.phone":"305 123 4567","form.message":"I have a question about...","form.terms":"Acepto los términos y condiciones","form.sending":"Enviando...","form.send":"Enviar"})[p]||p;return S.jsxs("div",{className:"w-full mt-7 mb-7 lg:mt-0 lg:mb-0 lg:w-1/3 z-50 max-w-[30rem]",children:[S.jsx(Zt,{"client:idle":!0}),S.jsxs("h2",{className:`italic text-2xl font-bold ${e}  mb-4`,children:["Envíanos tus preguntas ",S.jsx("br",{})," y comentarios."]}),S.jsxs("form",{ref:s,onSubmit:n(x),className:`space-y-2 flex flex-col items-start w-full  ${e}`,children:[S.jsx("label",{className:"text-sm ",children:"Nombre"}),S.jsx("input",{...l("username"),placeholder:g("form.username"),className:"w-2/3  placeholder:text-xs placeholder:pl-1 pl-1 py-1"}),c.username&&S.jsx("p",{className:"text-sm text-red-900",children:c.username.message}),S.jsx("label",{className:"text-sm ",children:"Email"}),S.jsx("input",{...l("email"),placeholder:g("form.email"),className:"w-2/3 placeholder:text-xs placeholder:pl-1 py-1 pl-1"}),c.email&&S.jsx("p",{className:"text-sm text-red-900",children:c.email.message}),S.jsx("label",{className:"text-sm ",children:"Mensaje"}),S.jsx("textarea",{...l("message"),placeholder:g("form.message"),className:"w-full placeholder:text-sm placeholder:p-1 py-1 pl-1"}),c.message&&S.jsx("p",{className:"text-sm text-red-900",children:c.message.message}),S.jsxs("label",{className:"flex gap-2",children:[S.jsx("input",{type:"checkbox",...l("terms"),className:"cursor-pointer"})," ",g("form.terms")]}),c.terms&&S.jsx("p",{className:"text-sm text-red-900",children:c.terms.message}),S.jsx("input",{type:"hidden",name:"name"}),S.jsx("input",{type:"hidden",name:"email"}),S.jsx("input",{type:"hidden",name:"message"}),S.jsx("button",{type:"submit",disabled:b,className:`rounded-xl ${r} px-3 py-2`,children:g(b?"form.sending":"form.send")})]})]})}export{Jr as default};
